<!DOCTYPE html>
<html>
<head>
	<!-- include A-Frame -->
	<script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
	<!-- include aframe-extras for animation-mixer -->
	<script src="js/aframe-extras.js"></script>
    <!-- include ar.js for A-Frame -->
	<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>

	<script>
		AFRAME.registerComponent('animation-control', {
		  schema: {default: ''},
		  init() {
		     
		    const bot = document.querySelector('#bot'); 
		  
			this.el.addEventListener('click', () => {
				bot.setAttribute("animation-mixer",this.data); 
			});     
		  }
		});
	</script>
</head>
<body style='margin : 0px; overflow: hidden;'>
	<a-scene embedded arjs>
		<a-assets>
      		<a-asset-item id="model" src="test2.gltf"></a-asset-item>
    	</a-assets>

    	<a-camera position="0 2 4">
		   <a-entity 
		            raycaster="objects: .clickable"
		            position="0 0 -1"
		            geometry="primitive: ring"
		            material="color: green; shader: flat">
			</a-entity>  
		</a-camera>

		<a-entity id= "run" class="clickable" animation-control="clip: Run; crossFadeDuration: .3" text="value: HELLO" material="color: red;"></a-entity>

    	<a-marker type='pattern' url='pattern-marker.patt'>
    		<a-entity
	    		scale="1 1 1"
	            position="0 1 -2.5"
	            rotation="0 0 0"
	    		gltf-model="#model"
	    		animation-mixer="clip: Idle"
	    	></a-entity>
    		<a-entity 
    			id="bot"
	    		scale="1 1 1"
	            position="0 1 -1"
	            rotation="-90 0 0"
	    		gltf-model="#model"
	    		animation-mixer="clip: Idle"
	    	></a-entity>
    	</a-marker>

    	<a-entity camera></a-entity>
	</a-scene>
</body>
</html>