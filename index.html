<!DOCTYPE html>
<html>
<head>
	<!-- include A-Frame -->
	<script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
	<!-- include aframe-extras for animation-mixer -->
	<script src="js/aframe-extras.js"></script>
	<script src="js/aframe-text-geometry-component.min.js"></script>
	<!-- include event-set-component -->
	<!-- <script src="https://unpkg.com/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.min.js"></script> -->

	<script>
		AFRAME.registerComponent('animation-clip', {
			schema: {
				default: ""
			},
			init: function() {
				var data = this.data;
				const bot = document.querySelector('#bot');

				this.el.addEventListener('click', function() {
					console.log("click " + data);
					bot.setAttribute("animation-mixer",data); 
				});
			}
		});
	</script>
</head>
<body>
	<a-scene>
		<a-assets>
      		<a-asset-item id="model" src="test2.gltf"></a-asset-item>
      		<img id="chrome" src="chrome.jpg"> 
    	</a-assets>

    	<a-camera>
    		<!-- raycaster="objects: .clickable" -->
		   <a-entity 
		   			cursor position="0 0 -1"
		            geometry="primitive: sphere; radius: 0.01"
		            material="color: blue; shader: flat">
			</a-entity>  
		</a-camera>

		<a-entity 
			animation-clip="clip: Run; crossFadeDuration: 0.3" 
			text-geometry="value: RUN; bevelEnabled: true; bevelSize: 0.1; bevelThickness: 0.1; curveSegments: 1; size: 1; height: 0.5;"
			material="color:pink; metalness:0.9; roughness: 0.05; sphericalEnvMap: #chrome;"
			position="0 0 -1" 
		></a-entity>

		<a-entity
			geometry="primitive: plane; height: auto; width: auto;"
  			material="color: pink;"
  			text="value: RUN"
  			position="0 2 -2"
  			scale="2 2 2"
		></a-entity>

    	<a-entity
			id="bot"
            position="0 0 -1"
    		gltf-model="#model"
    		animation-mixer="clip: Idle"
    	></a-entity>
	</a-scene>
</body>
</html>